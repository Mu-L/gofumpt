# format explicit dirs
exec gofumpt -l vendor testdata
cmpenv stdout explicit-dirs.stdout
! stderr .

# format explicit files
exec gofumpt -l vendor/foo/foo.go testdata/foo/foo.go
cmpenv stdout explicit-files.stdout
! stderr .

# ignore implicit dirs via fs walking
exec gofumpt -l .
cmpenv stdout implicit-dot.stdout
! stderr .

# format explicit dirs without clean paths
exec gofumpt -l $WORK//vendor ./testdata/./
cmpenv stdout explicit-dirs-unclean.stdout
! stderr .

-- explicit-dirs.stdout --
vendor${/}bar${/}bar.go
vendor${/}foo${/}foo.go
testdata${/}bar${/}bar.go
testdata${/}foo${/}foo.go
-- explicit-files.stdout --
vendor/foo/foo.go
testdata/foo/foo.go
-- implicit-dot.stdout --
-- explicit-dirs-unclean.stdout --
${WORK}${/}vendor${/}bar${/}bar.go
${WORK}${/}vendor${/}foo${/}foo.go
testdata${/}bar${/}bar.go
testdata${/}foo${/}foo.go
-- vendor/foo/foo.go --
package p; func badlyformatted() {}
-- vendor/bar/bar.go --
package p; func badlyformatted() {}
-- testdata/foo/foo.go --
package p; func badlyformatted() {}
-- testdata/bar/bar.go --
package p; func badlyformatted() {}
